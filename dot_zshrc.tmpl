# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time Oh My Zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
HYPHEN_INSENSITIVE="true"

# Uncomment one of the following lines to change the auto-update behavior
# zstyle ':omz:update' mode disabled  # disable automatic updates
zstyle ':omz:update' mode auto # update automatically without asking
# zstyle ':omz:update' mode reminder  # just remind me to update when it's time

# Uncomment the following line to change how often to auto-update (in days).
zstyle ':omz:update' frequency 30

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git)

source $ZSH/oh-my-zsh.sh

# User configuration. ##########################################################
# Set the language environment. ################################################
export LANG=en_US.UTF-8
# Source if and only if the file exists. #######################################
smart_source() {
    if [[ -f "$1" ]]; then
        source "$1" >/dev/null 2>&1
        echo "Sourcing $1"
    fi
}
{{ if eq .chezmoi.hostname "heimdall" }}
# Specify environment for heimdall. ############################################
# Set the working directory. ###################################################
export WKDIR=$HOME/Desktop/wkdir
# Add homebrew cURL to the path. ###############################################
export PATH=$(brew --prefix curl)/bin:$PATH
# Add LLVM tools. ##############################################################
export PATH=$(brew --prefix llvm)/bin:$PATH
# Lmod environment settings. ###################################################
smart_source $(brew --prefix lmod)/init/zsh
# Specific MPI configuration on darwin. ########################################
export PMIX_MCA_gds=hash
export OMPI_MCA_btl=vader,self
{{ else }}
# Set the working directory. ###################################################
export WKDIR=$HOME/wkdir
# Set the path directory. ######################################################
export PATH=$WKDIR/$HOST/bin:$PATH
# Lmod environment settings. ###################################################
smart_source /usr/share/lmod/lmod/init/zsh
{{ end }}
# Use Ninja for CMake generator. ###############################################
export CMAKE_GENERATOR="Ninja"
# Export the temporary directory. ##############################################
export TMPDIR=/tmp
# Aliases configuration. #######################################################
alias ls="ls -ltrGh --color=auto"
# Module use. ##################################################################
module use $WKDIR/mod
# EOF. #########################################################################
